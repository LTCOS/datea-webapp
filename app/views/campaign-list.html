<div class="campaign-list-holder">
	<div class="search-bar">
		<div class="container-fluid">
			<h1>Iniciativas</h1>
			<form id="campaign-list-form" class="form-inline" role="form">

				<div class="form-group search-field">
					<label class="sr-only" for="campaign-search-input">Buscar Frase</label>
					<div class="input-group search-input input-group-lg">
						<input id="campaign-search-input" type="text" class="form-control" ng-model="query.search" placeholder="buscar frase">
						<span class="input-group-btn">
							<button class="btn" ng-click="flow.doQuery()">
								<span class="glyphicon glyphicon-search"></span>
							</button>
						</span>
					</div>
				</div>

				<div class="form-group category-field">
					<label class="sr-only" for="category-select">Categoria</label>
					<select class="form-control input-lg" ng-model="query.category" ng-options="category.id as category.name for category in flow.categories"></select>
				</div>

				<div class="form-group orderby-field">
					<label class="sr-only" for="orderby-select">Ordenar por</label>
					<select class="form-control input-lg" ng-model="query.orderBy"  ng-options="opt.val as opt.label for opt in flow.orderByOptions"></select> 
				</div>

				<button class="btn btn-success btn-lg" ng-click="flow.doQuery()">buscar</button>

			</form>
		</div>
	</div>

	<div class="search-results" ng-class="{'datea-loading': flow.loading}">
		<div class="container-fluid">
			<div class="num-results" ng-hide="flow.loading">{{query.totalCount}} resultados</div>
			<div class="campaign-list row">
				<div class="col-lg-2 col-md-3 col-sm-4 col-xs-12" ng-repeat="campaign in flow.campaigns">
					<da-campaign-teaser></da-campaign-teaser>
				</div>
			</div>

			<pagination ng-show="query.totalCount > query.numResults && !flow.loading" boundary-links="true" items-per-page="query.numResults" total-items="query.totalCount" max-size="5" page="query.page" class="pagination-lg" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
		</div>
	</div>
</div>
